{
  "swagger": "2.0",
  "info": {
    "title": "OpenAPI Specification",
    "description": "This is a sample server Petstore server.",
    "termsOfService": "http://open-api.io/terms/",
    "contact": {
      "name": "API Support",
      "url": "http://www.open-api.io/support",
      "email": "support@open-api.io"
    },
    "license": {
      "name": "Apache 2.0",
      "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
    },
    "version": "1.0.0"
  },
  "host": "localhost:3000",
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json",
    "application/xml"
  ],
  "produces": [
    "application/json",
    "application/xml"
  ],
  "paths": {
    "/api/v1/invites": {
      "post": {
        "tags": [
          "Me"
        ],
        "summary": "",
        "description": "",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "email",
            "in": "formData",
            "description": "Email of the user to invite\nEg, `requester_to_invite@progeser.com`",
            "required": false,
            "type": "string"
          },
          {
            "name": "role",
            "in": "formData",
            "description": "Role of the user to invite\nEg, `requester`",
            "required": false,
            "type": "string",
            "enum": [
              "grower",
              "requester"
            ]
          },
          {
            "name": "first_name",
            "in": "formData",
            "description": "First name of the user to invite\nEg, `invite first name`",
            "required": false,
            "type": "string"
          },
          {
            "name": "last_name",
            "in": "formData",
            "description": "Last name of the user to invite\nEg, `invite last name`",
            "required": false,
            "type": "string"
          },
          {
            "name": "laboratory",
            "in": "formData",
            "description": "Laboratory of the user to invite (only for a requester)\nEg, `invite laboratory`",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "201": {
            "description": "Creating an invite and send an email",
            "schema": {
              "description": "",
              "type": "object",
              "properties": {
              }
            },
            "headers": {
              "Content-Type": {
                "description": "",
                "type": "string",
                "x-example-value": "application/json; charset=utf-8"
              },
              "ETag": {
                "description": "",
                "type": "string",
                "x-example-value": "W/\"52a0c373183b2942a94d71789a4f6d50\""
              },
              "Cache-Control": {
                "description": "",
                "type": "string",
                "x-example-value": "max-age=0, private, must-revalidate"
              },
              "X-Request-Id": {
                "description": "",
                "type": "string",
                "x-example-value": "1e3b3ba4-3cca-4e31-a5f7-f791f8f544df"
              },
              "X-Runtime": {
                "description": "",
                "type": "string",
                "x-example-value": "0.140245"
              },
              "Content-Length": {
                "description": "",
                "type": "string",
                "x-example-value": "247"
              }
            },
            "examples": {
              "application/json": {
                "id": 3,
                "created_at": "2019-11-13T01:03:35.023Z",
                "email": "requester_to_invite@progeser.com",
                "first_name": "invite first name",
                "laboratory": "invite laboratory",
                "last_name": "invite last name",
                "role": "requester",
                "updated_at": "2019-11-13T01:03:35.023Z"
              }
            }
          }
        },
        "deprecated": false,
        "security": [
          {
            "Authorization": [

            ]
          }
        ]
      }
    },
    "/api/v1/invites/{id}/retry": {
      "post": {
        "tags": [
          "Me"
        ],
        "summary": "",
        "description": "",
        "consumes": [
          "application/json"
        ],
        "produces": [

        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "type": "integer"
          }
        ],
        "responses": {
          "204": {
            "description": "Retry sending the invite email",
            "schema": {
              "description": "",
              "type": "object",
              "properties": {
              }
            },
            "headers": {
              "Cache-Control": {
                "description": "",
                "type": "string",
                "x-example-value": "no-cache"
              },
              "X-Request-Id": {
                "description": "",
                "type": "string",
                "x-example-value": "141b3fbf-dba1-45fc-8abf-e923148daac1"
              },
              "X-Runtime": {
                "description": "",
                "type": "string",
                "x-example-value": "0.011097"
              }
            }
          }
        },
        "deprecated": false,
        "security": [
          {
            "Authorization": [

            ]
          }
        ]
      }
    },
    "/api/v1/invites/{id}": {
      "delete": {
        "tags": [
          "Me"
        ],
        "summary": "",
        "description": "",
        "consumes": [
          "application/json"
        ],
        "produces": [

        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "type": "integer"
          }
        ],
        "responses": {
          "204": {
            "description": "Deleting an invite",
            "schema": {
              "description": "",
              "type": "object",
              "properties": {
              }
            },
            "headers": {
              "Cache-Control": {
                "description": "",
                "type": "string",
                "x-example-value": "no-cache"
              },
              "X-Request-Id": {
                "description": "",
                "type": "string",
                "x-example-value": "a7f9e031-4783-4369-ad81-1f7b93934f7b"
              },
              "X-Runtime": {
                "description": "",
                "type": "string",
                "x-example-value": "0.011600"
              }
            }
          }
        },
        "deprecated": false,
        "security": [
          {
            "Authorization": [

            ]
          }
        ]
      }
    },
    "/api/v1/me": {
      "get": {
        "tags": [
          "Me"
        ],
        "summary": "",
        "description": "",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [

        ],
        "responses": {
          "200": {
            "description": "Getting current user informations",
            "schema": {
              "description": "",
              "type": "object",
              "properties": {
              }
            },
            "headers": {
              "Content-Type": {
                "description": "",
                "type": "string",
                "x-example-value": "application/json; charset=utf-8"
              },
              "ETag": {
                "description": "",
                "type": "string",
                "x-example-value": "W/\"70d4cba5d7c0e643004e618e8e99fbfa\""
              },
              "Cache-Control": {
                "description": "",
                "type": "string",
                "x-example-value": "max-age=0, private, must-revalidate"
              },
              "X-Request-Id": {
                "description": "",
                "type": "string",
                "x-example-value": "755d58d7-763e-4cc0-8d8b-b36a05f2c465"
              },
              "X-Runtime": {
                "description": "",
                "type": "string",
                "x-example-value": "0.034335"
              },
              "Content-Length": {
                "description": "",
                "type": "string",
                "x-example-value": "219"
              }
            },
            "examples": {
              "application/json": {
                "id": 1,
                "created_at": "2019-10-30T16:57:33.316Z",
                "email": "dev+requester@progeser.com",
                "first_name": "Requester",
                "laboratory": "My test lab",
                "last_name": "ProGeSer",
                "role": "requester",
                "updated_at": "2019-10-30T16:57:33.316Z"
              }
            }
          }
        },
        "deprecated": false,
        "security": [
          {
            "Authorization": [

            ]
          }
        ]
      },
      "put": {
        "tags": [
          "Me"
        ],
        "summary": "",
        "description": "",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "first_name",
            "in": "formData",
            "description": "The new first name\nEg, `Updated first name`",
            "required": false,
            "type": "string"
          },
          {
            "name": "last_name",
            "in": "formData",
            "description": "The new last name\nEg, `Updated last name`",
            "required": false,
            "type": "string"
          },
          {
            "name": "laboratory",
            "in": "formData",
            "description": "The new laboratory (only for a requester)\nEg, `Updated laboratory`",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Updating current user",
            "schema": {
              "description": "",
              "type": "object",
              "properties": {
              }
            },
            "headers": {
              "Content-Type": {
                "description": "",
                "type": "string",
                "x-example-value": "application/json; charset=utf-8"
              },
              "ETag": {
                "description": "",
                "type": "string",
                "x-example-value": "W/\"18f4f58b97fbef4f7ce4ba94177d2ab3\""
              },
              "Cache-Control": {
                "description": "",
                "type": "string",
                "x-example-value": "max-age=0, private, must-revalidate"
              },
              "X-Request-Id": {
                "description": "",
                "type": "string",
                "x-example-value": "672ad033-63e8-46c3-acab-46a8c43bce52"
              },
              "X-Runtime": {
                "description": "",
                "type": "string",
                "x-example-value": "0.018908"
              },
              "Content-Length": {
                "description": "",
                "type": "string",
                "x-example-value": "244"
              }
            },
            "examples": {
              "application/json": {
                "id": 1,
                "created_at": "2019-10-30T16:57:33.316Z",
                "email": "dev+requester@progeser.com",
                "first_name": "Updated first name",
                "laboratory": "Updated laboratory",
                "last_name": "Updated last name",
                "role": "requester",
                "updated_at": "2019-11-13T01:03:35.225Z"
              }
            }
          }
        },
        "deprecated": false,
        "security": [
          {
            "Authorization": [

            ]
          }
        ]
      },
      "delete": {
        "tags": [
          "Me"
        ],
        "summary": "",
        "description": "",
        "consumes": [
          "application/json"
        ],
        "produces": [

        ],
        "parameters": [

        ],
        "responses": {
          "204": {
            "description": "Soft deleting current user & anonymize his data",
            "schema": {
              "description": "",
              "type": "object",
              "properties": {
              }
            },
            "headers": {
              "Cache-Control": {
                "description": "",
                "type": "string",
                "x-example-value": "no-cache"
              },
              "X-Request-Id": {
                "description": "",
                "type": "string",
                "x-example-value": "0aeb765c-78b8-4d42-96bc-8964bcc3f79e"
              },
              "X-Runtime": {
                "description": "",
                "type": "string",
                "x-example-value": "0.014966"
              }
            }
          }
        },
        "deprecated": false,
        "security": [
          {
            "Authorization": [

            ]
          }
        ]
      }
    },
    "/api/v1/oauth/token": {
      "post": {
        "tags": [
          "OAuth Token"
        ],
        "summary": "",
        "description": "",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "grant_type",
            "in": "formData",
            "description": "Oauth grant type",
            "required": false,
            "type": "string",
            "default": "password"
          },
          {
            "name": "email",
            "in": "formData",
            "description": "User email\nEg, `dev+requester@progeser.com`",
            "required": true,
            "type": "string"
          },
          {
            "name": "password",
            "in": "formData",
            "description": "User password\nEg, `password`",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Get new token",
            "schema": {
              "description": "",
              "type": "object",
              "properties": {
              }
            },
            "headers": {
              "Cache-Control": {
                "description": "",
                "type": "string",
                "x-example-value": "private, no-store"
              },
              "Pragma": {
                "description": "",
                "type": "string",
                "x-example-value": "no-cache"
              },
              "Content-Type": {
                "description": "",
                "type": "string",
                "x-example-value": "application/json; charset=utf-8"
              },
              "ETag": {
                "description": "",
                "type": "string",
                "x-example-value": "W/\"b726b0b1616bc9ee0655450619f558f4\""
              },
              "X-Request-Id": {
                "description": "",
                "type": "string",
                "x-example-value": "1cae49e8-d473-4097-8e16-08586a22bedd"
              },
              "X-Runtime": {
                "description": "",
                "type": "string",
                "x-example-value": "0.261662"
              },
              "Content-Length": {
                "description": "",
                "type": "string",
                "x-example-value": "188"
              }
            },
            "examples": {
              "application/json": {
                "access_token": "64MkOHkvr40qfaJteCEpUak7roVEgguhGsLz76YVVmA",
                "token_type": "Bearer",
                "expires_in": 7200,
                "refresh_token": "GqcOoy_ZG607mLFt5SNUpfMqEqkvbxxbMuwKARxqsMc",
                "created_at": 1573607015
              }
            }
          }
        },
        "deprecated": false,
        "security": [

        ]
      }
    },
    "/api/v1/users/{invitation_token}/create_from_invite": {
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "",
        "description": "",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "invitation_token",
            "in": "path",
            "description": "",
            "required": true,
            "type": "string"
          },
          {
            "name": "password",
            "in": "formData",
            "description": "Password of the user\nEg, `password`",
            "required": false,
            "type": "string"
          },
          {
            "name": "password_confirmation",
            "in": "formData",
            "description": "Password confirmation of the user\nEg, `password`",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "201": {
            "description": "Creating a user from an invite and destroy it",
            "schema": {
              "description": "",
              "type": "object",
              "properties": {
              }
            },
            "headers": {
              "Content-Type": {
                "description": "",
                "type": "string",
                "x-example-value": "application/json; charset=utf-8"
              },
              "ETag": {
                "description": "",
                "type": "string",
                "x-example-value": "W/\"d54b8aad71bc619300a0a6faa3af6b90\""
              },
              "Cache-Control": {
                "description": "",
                "type": "string",
                "x-example-value": "max-age=0, private, must-revalidate"
              },
              "X-Request-Id": {
                "description": "",
                "type": "string",
                "x-example-value": "1adc46db-9618-4f3c-bc3a-c9ff64001b81"
              },
              "X-Runtime": {
                "description": "",
                "type": "string",
                "x-example-value": "0.027352"
              },
              "Content-Length": {
                "description": "",
                "type": "string",
                "x-example-value": "220"
              }
            },
            "examples": {
              "application/json": {
                "id": 4,
                "created_at": "2019-11-13T01:03:35.566Z",
                "email": "invite+requester@progeser.com",
                "first_name": "Requester",
                "laboratory": "My test lab",
                "last_name": "Invite",
                "role": "requester",
                "updated_at": "2019-11-13T01:03:35.566Z"
              }
            }
          }
        },
        "deprecated": false,
        "security": [

        ]
      }
    }
  },
  "securityDefinitions": {
    "Authorization": {
      "type": "basic",
      "description": ""
    }
  },
  "tags": [
    {
      "name": "Me",
      "description": "Me resource"
    },
    {
      "name": "OAuth Token",
      "description": "Doorkeeper Token resource"
    },
    {
      "name": "Users",
      "description": "Users resource"
    }
  ]
}